{
  "version": 3,
  "sources": ["../../../node_modules/ui/styles/helper.ts", "../../../node_modules/ui/utils/dom/style.ts", "../../../node_modules/ui/styles/theme.ts"],
  "sourcesContent": ["import type { RGBColor } from './type'\r\n\r\n/** 实现十六进制颜色转RGB颜色，包括透明度 */\r\nexport function HEXToRGB(color: string): RGBColor {\r\n  // 移除可能存在的 '#' 前缀\r\n  let hex = color.replace(/^#/, '')\r\n  let [r, g, b] = [0, 0, 0]\r\n\r\n  if (hex.length === 3) {\r\n    const [r10, g10, b10] = [hex[0]!, hex[1]!, hex[2]!]\r\n    hex = `${r10}${r10}${g10}${g10}${b10}${b10}`\r\n  }\r\n\r\n  r = parseInt(hex.slice(0, 2), 16)\r\n  g = parseInt(hex.slice(2, 4), 16)\r\n  b = parseInt(hex.slice(4, 6), 16)\r\n\r\n  return [r, g, b]\r\n}\r\n\r\n/**\r\n * 混合两个颜色，并返回混合结果的十六进制表示。\r\n * @param color1 - 第一个颜色，格式为`#RRGGBB`。\r\n * @param color2 - 第二个颜色，格式为`#RRGGBB`。\r\n * @param ratio - 颜色混合的比例，取值范围为0到1。\r\n * @returns 混合结果的十六进制表示。\r\n */\r\nexport function mixColor(\r\n  color1: `#${string}`,\r\n  color2: `#${string}`,\r\n  ratio: number\r\n) {\r\n  if (ratio > 1) throw new Error('ratio的值在0-1之间')\r\n  const color1RGB = HEXToRGB(color1)\r\n  const color2RGB = HEXToRGB(color2)\r\n\r\n  const color1Ratio = 1 - ratio\r\n\r\n  return (\r\n    '#' +\r\n    color1RGB\r\n      .map((n, i) => {\r\n        const hex = Math.floor(\r\n          color1Ratio * n + color2RGB[i]! * ratio\r\n        ).toString(16)\r\n        return hex.length === 1 ? '0' + hex : hex\r\n      })\r\n      .join('')\r\n  )\r\n}\r\n", "import type { CSSProperties } from 'vue'\r\nimport { kebabCase } from 'cat-kit/fe'\r\n\r\n/**\r\n * 给数值加上单位\r\n * @param value 数值\r\n * @param unit 单位\r\n * @returns\r\n */\r\nexport function withUnit(value: number | string | undefined, unit: string) {\r\n  return value === undefined\r\n    ? undefined\r\n    : typeof value === 'number' || !isNaN(+value)\r\n      ? String(value) + unit\r\n      : value\r\n}\r\n\r\n/**\r\n * 设置元素样式，优先使用高性能的方式\r\n * @param el 元素\r\n * @param styles 样式\r\n */\r\nexport function setStyles(el: HTMLElement, styles: CSSProperties) {\r\n  if (el.attributeStyleMap) {\r\n    Object.keys(styles).forEach(key => {\r\n      const value = styles[key]\r\n      if (!value && value !== 0) {\r\n        el.attributeStyleMap.delete(kebabCase(key))\r\n      } else {\r\n        el.attributeStyleMap.set(kebabCase(key), value)\r\n      }\r\n    })\r\n  } else {\r\n    Object.keys(styles).forEach(key => {\r\n      el.style[key] = styles[key]\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * 移除样式\r\n * @param el dom元素\r\n * @param props 要移除的样式属性\r\n */\r\nexport function removeStyles(el: HTMLElement, props: string[]) {\r\n  if (el.attributeStyleMap) {\r\n    props.forEach(key => {\r\n      el.attributeStyleMap.delete(kebabCase(key))\r\n    })\r\n  } else {\r\n    props.forEach(key => {\r\n      el.style.removeProperty(key)\r\n    })\r\n  }\r\n}\r\n", "import { reactive, watchEffect } from 'vue'\r\nimport type { Theme } from './type'\r\nimport { mixColor } from './helper'\r\nimport { kebabCase } from 'cat-kit/fe'\r\nimport { withUnit } from '@ui/utils'\r\n\r\nfunction defineBySize(variable: Record<'small' | 'default' | 'large', number>) {\r\n  return variable\r\n}\r\n\r\nexport const theme = reactive<Theme>({\r\n  color: {\r\n    primary: '#0ea5e9',\r\n    success: '#4caf50',\r\n    warning: '#ffc107',\r\n    danger: '#f44336',\r\n    info: '#009688',\r\n    disabled: '#f5f7fa',\r\n    default: '#f1f5f9'\r\n  },\r\n\r\n  bgColor: {\r\n    bottom: '#fdfdfd',\r\n    middle: '#fefefe',\r\n    top: '#ffffff',\r\n    hover: '#f5f7fa',\r\n    black: '#000000'\r\n  },\r\n\r\n  border: {\r\n    color: '#dcdfe6',\r\n    width: 1,\r\n    style: 'solid'\r\n  },\r\n\r\n  textColor: {\r\n    title: '#303133',\r\n    main: '#606266',\r\n    placeholder: '#a8abb2',\r\n    second: '#979797',\r\n    assist: '#c0c4cc',\r\n    disabled: '#a8abb2',\r\n    white: '#fff'\r\n  },\r\n\r\n  radius: defineBySize({\r\n    small: 2,\r\n    default: 4,\r\n    large: 8\r\n  }),\r\n\r\n  formComponentHeight: defineBySize({\r\n    small: 24,\r\n    default: 32,\r\n    large: 40\r\n  }),\r\n\r\n  menuHeight: defineBySize({\r\n    small: 32,\r\n    default: 40,\r\n    large: 48\r\n  }),\r\n\r\n  fontFamily:\r\n    'Inter, \"Roboto\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Microsoft YaHei\", \"PingFang SC\", sans-serif',\r\n\r\n  fontSizeTitle: defineBySize({\r\n    small: 16,\r\n    default: 16,\r\n    large: 18\r\n  }),\r\n\r\n  fontSizeMain: defineBySize({\r\n    small: 12,\r\n    default: 14,\r\n    large: 16\r\n  }),\r\n\r\n  fontSizeAssist: defineBySize({\r\n    small: 12,\r\n    default: 12,\r\n    large: 14\r\n  }),\r\n\r\n  shadow: {\r\n    color: '#ccc',\r\n    x: 0,\r\n    y: 0,\r\n    blur: 4,\r\n    spread: 0\r\n  },\r\n\r\n  tag: defineBySize({\r\n    small: 20,\r\n    default: 24,\r\n    large: 28\r\n  }),\r\n\r\n  gap: defineBySize({\r\n    small: 6,\r\n    default: 8,\r\n    large: 12\r\n  }),\r\n\r\n  breakpoint: {\r\n    xs: 600,\r\n    sm: 960,\r\n    md: 1280,\r\n    lg: 1920\r\n  }\r\n})\r\n\r\nfunction renderThemeColor(color: Theme['color']) {\r\n  const types = Object.keys(color) as (keyof Theme['color'])[]\r\n  const rates = [1, 3, 5, 7, 9]\r\n\r\n  const varsText = types\r\n    .map(type => {\r\n      let colorKey = `--color-${type}`\r\n      let colorValue = color[type]! as `#${string}`\r\n\r\n      const rateColors = rates\r\n        .map(rate => {\r\n          const light = `${colorKey}-light-${rate}: ${mixColor(\r\n            colorValue,\r\n            '#fff',\r\n            rate / 10\r\n          )}`\r\n          const dark = `${colorKey}-dark-${rate}: ${mixColor(\r\n            colorValue,\r\n            '#000',\r\n            rate / 10\r\n          )}`\r\n          return `${light};${dark}`\r\n        })\r\n        .join(';')\r\n\r\n      return `${colorKey}: ${colorValue};${rateColors}`\r\n    })\r\n    .join(';')\r\n\r\n  return varsText\r\n}\r\n\r\nfunction renderOtherTheme(\r\n  theme: Record<string, any>,\r\n  themeRules: string[] = [],\r\n  parentKey = '-'\r\n) {\r\n  Object.keys(theme).forEach(key => {\r\n    const value = theme[key]\r\n    const varKey = `${parentKey.startsWith('-') ? parentKey : kebabCase(parentKey)}-${kebabCase(key)}`\r\n    if (typeof value === 'object') {\r\n      renderOtherTheme(value, themeRules, varKey)\r\n    } else {\r\n      themeRules.push(`${varKey}: ${withUnit(value, 'px')}`)\r\n    }\r\n  })\r\n\r\n  return themeRules.join(';')\r\n}\r\n\r\nfunction renderShadow() {\r\n  const k = (v: string) => `var(--shadow-${v})`\r\n  return `--shadow: ${k('x')} ${k('y')} ${k('blur')} ${k('spread')} ${k('color')}`\r\n}\r\n\r\nfunction renderBorder() {\r\n  const k = (v: string) => `var(--border-${v})`\r\n  return `--border:${k('width')} ${k('style')} ${k('color')}`\r\n}\r\n\r\nfunction renderBGColorAlpha() {\r\n  const bgs = Object.keys(theme.bgColor)\r\n  return bgs\r\n    .map(type => {\r\n      return `--bg-color-${type}-alpha: ${theme.bgColor[type]}cc`\r\n    })\r\n    .join(';')\r\n}\r\n\r\n/** 加载主题 */\r\nfunction loadTheme() {\r\n  // 主题色\r\n  const { color, ...rest } = theme\r\n\r\n  const ruleText = [\r\n    renderThemeColor(color),\r\n    renderOtherTheme(rest),\r\n    renderShadow(),\r\n    renderBorder(),\r\n    renderBGColorAlpha()\r\n  ].join(';')\r\n\r\n  const themeID = 'ultra-ui-theme'\r\n\r\n  let style = document.getElementById(themeID)\r\n  if (!style) {\r\n    style = document.createElement('style')\r\n    style.id = themeID\r\n    style.innerText = `:root { ${ruleText}; }`\r\n    document.head.appendChild(style)\r\n  } else {\r\n    style.innerText = `:root { ${ruleText}; }`\r\n  }\r\n}\r\n\r\nwatchEffect(() => {\r\n  loadTheme()\r\n})\r\n"],
  "mappings": "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",
  "names": ["HEXToRGB", "color", "hex", "g", "b", "r10", "g10", "b10", "mixColor", "color1", "color2", "ratio", "color1RGB", "color2RGB", "color1Ratio", "n", "i", "withUnit", "value", "unit", "setStyles", "el", "styles", "key", "kebabCase", "removeStyles", "props", "theme", "reactive", "renderThemeColor", "color", "types", "rates", "type", "colorKey", "colorValue", "rateColors", "rate", "light", "mixColor", "dark", "renderOtherTheme", "themeRules", "parentKey", "key", "value", "varKey", "kebabCase", "withUnit", "renderShadow", "k", "v", "renderBorder", "renderBGColorAlpha", "loadTheme", "rest", "ruleText", "themeID", "style", "watchEffect"]
}
